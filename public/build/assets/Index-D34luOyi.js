import{r as a,j as e,L as u,a as w,H as S}from"./app-B3nWRFgj.js";import{l as C,m as R}from"./app-layout-BBIcepWN.js";import{S as y}from"./index-2ulNnXVG.js";import{B as g}from"./app-logo-icon-DOjl1EUk.js";import{A as j,u as F,f as p,g as T,a as M,b as P}from"./index-DRpTjnRQ.js";import{T as b,d as V,b as m,e as k,a as N,c as i}from"./table-BbbwHe85.js";/* empty css            */import"./createLucideIcon-DV9NR_gn.js";import"./index--GA44Y2B.js";import"./index-C08RDXNe.js";function D({value:t,onChange:r,debounce:o=500,...x}){const[n,c]=a.useState(t);return a.useEffect(()=>{c(t)},[t]),a.useEffect(()=>{const d=setTimeout(()=>{r(n)},o);return()=>clearTimeout(d)},[n,r,o]),e.jsx("input",{...x,value:n,onChange:d=>c(d.target.value)})}function E({collections:t}){var f;const[r,o]=a.useState([]),[x,n]=a.useState(""),c=a.useMemo(()=>[{accessorKey:"name",header:({column:s})=>e.jsx("div",{className:"flex flex-col items-start",children:e.jsxs(g,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["Collection name",e.jsx(j,{className:"ml-2 h-4 w-4"})]})}),cell:({row:s})=>e.jsx("div",{className:"max-w-xs text-left font-medium",children:e.jsx(u,{href:route("collection.show",s.getValue("id")),className:"flex items-center px-4 focus:outline-none",children:e.jsx("span",{className:"line-clamp-2",children:s.getValue("name")})})}),enableSorting:!0,filterFn:"includesStringSensitive"},{accessorKey:"display_code",header:({column:s})=>e.jsx("div",{className:"flex flex-col items-start",children:e.jsxs(g,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["Code",e.jsx(j,{className:"ml-2 h-4 w-4"})]})}),cell:({row:s})=>e.jsx("div",{className:"w-24 text-left font-medium",children:e.jsx(u,{href:route("collection.show",s.getValue("id")),className:"flex items-center px-4 focus:outline-none",children:s.getValue("display_code")})}),enableSorting:!0,filterFn:"includesStringSensitive"},{accessorKey:"path",header:()=>e.jsx("div",{className:"flex flex-col items-start",children:e.jsx("div",{className:"px-4 py-2 text-left",children:"R* Path"})}),cell:({row:s})=>e.jsx("div",{className:"text-left font-medium",children:e.jsx(u,{href:route("collection.show",s.getValue("id")),className:"flex items-center px-4 focus:outline-none",children:e.jsx("span",{className:"line-clamp-2",children:s.getValue("path")})})})},{accessorKey:"id",header:()=>e.jsx(e.Fragment,{}),cell:({row:s})=>e.jsx(u,{href:route("collection.show",s.getValue("id")),className:"flex items-center px-2 focus:outline-none",children:e.jsx(C,{size:24,className:"text-gray-400"})})}],[]),[d,v]=a.useState(t);a.useEffect(()=>{v(t)},[t]);const h=F({data:d,columns:c,state:{columnFilters:r,globalFilter:x},initialState:{columnOrder:["name","code"],sorting:[{id:"name",desc:!1}]},onColumnFiltersChange:o,onGlobalFilterChange:n,globalFilterFn:"includesString",getCoreRowModel:P(),getFilteredRowModel:M(),getSortedRowModel:T()});return e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center py-4",children:e.jsx(D,{value:x??"",onChange:s=>n(String(s)),className:"flex h-9 w-full max-w-sm rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:ring-1 focus-visible:ring-ring focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",placeholder:"Find by collection name or code..."})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(b,{children:[e.jsxs("colgroup",{children:[e.jsx("col",{className:"w-2/5"}),e.jsx("col",{className:"w-1/6"}),e.jsx("col",{className:"w-2/5"}),e.jsx("col",{className:"w-auto"})]}),e.jsx(V,{children:h.getHeaderGroups().map(s=>e.jsx(m,{children:s.headers.map(l=>e.jsx(k,{children:l.isPlaceholder?null:p(l.column.columnDef.header,l.getContext())},l.id))},s.id))}),e.jsx(N,{children:(f=h.getRowModel().rows)!=null&&f.length?h.getRowModel().rows.map(s=>e.jsx(m,{"data-state":s.getIsSelected()&&"selected",children:s.getVisibleCells().map(l=>e.jsx(i,{children:p(l.column.columnDef.cell,l.getContext())},l.id))},s.id)):e.jsx(m,{children:e.jsx(i,{colSpan:c.length,className:"h-24 text-center",children:"No results."})})})]})})]})}function U(){const{partner:t}=w().props,{collections:r}=t,o=[{title:"Partners",href:"/dashboard"},{title:t.name,href:`/partners/${t.id}`}];return e.jsxs(R,{breadcrumbs:o,children:[e.jsx(S,{title:t.name}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[e.jsx("h4",{className:"scroll-m-20 text-xl font-semibold tracking-tight",children:t.name}),e.jsx("div",{className:"rounded-md border",children:e.jsx(b,{children:e.jsxs(N,{children:[e.jsxs(m,{children:[e.jsx(i,{className:"font-medium",children:"Code"}),e.jsx(i,{children:t.code})]}),e.jsxs(m,{children:[e.jsx(i,{className:"font-medium",children:"R* Path"}),e.jsx(i,{children:t.path})]})]})})}),e.jsx(y,{}),e.jsx("h5",{className:"scroll-m-20 text-l font-semibold tracking-tight",children:"Partner collections"}),e.jsx(E,{collections:r})]})]})}export{U as default};
