import{a as S,r as l,j as e,H as C,c as k}from"./app-B3nWRFgj.js";import{C as I,a as L}from"./card-DCXJAxwk.js";import{I as P}from"./index--GA44Y2B.js";import{m as R,S as D,l as E}from"./app-layout-BBIcepWN.js";import{c as M,a as A}from"./createLucideIcon-DV9NR_gn.js";import{L as F}from"./loader-circle-Dh9trAfT.js";/* empty css            */import"./index-C08RDXNe.js";import"./app-logo-icon-DOjl1EUk.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],T=M("ChevronLeft",H);function V(){const{term:g,results:c,numFound:i,start:u,error:d,page:r=1,totalPages:o=1}=S().props,[n,j]=l.useState(g??""),[a,N]=l.useState(c??[]),[h,f]=l.useState(!1),[m,x]=l.useState(null),v=i===0?0:u+1,b=Math.min(u+a.length,i),y=l.useRef(null),_=[{title:"Partners",href:"/"},{title:"Search",href:"/search"}],p=(s,t=1)=>{s.trim()&&(f(!0),k.get("/search",{term:s,page:t},{preserveState:!0,onFinish:()=>f(!1)}))};l.useEffect(()=>{N(c??[]),x(null)},[c]);const w=s=>{a.length&&(s.key==="ArrowDown"&&(s.preventDefault(),x(t=>t===null?0:Math.min(t+1,a.length-1))),s.key==="ArrowUp"&&(s.preventDefault(),x(t=>t===null?0:Math.max(t-1,0))),s.key==="Enter"&&m!==null&&(window.location.href=`/packages/${a[m].package_id}`))};return e.jsxs(R,{breadcrumbs:_,children:[e.jsx(C,{title:"Search"}),e.jsxs("div",{className:"flex flex-col gap-6 px-6 py-4",onKeyDown:w,tabIndex:0,children:[e.jsx("div",{className:"w-full max-w-2xl",children:e.jsxs("form",{onSubmit:s=>{s.preventDefault(),p(n)},className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(P,{ref:y,value:n,onChange:s=>j(s.target.value),placeholder:"Search...",className:"h-12 pl-10 pr-10"}),h&&e.jsx(F,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 animate-spin"})]})}),d&&e.jsx(I,{className:"max-w-2xl border-destructive",children:e.jsx(L,{className:"pt-6 text-destructive",children:d})}),a.length>0&&e.jsxs("div",{className:"w-full max-w-4xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-4 w-1 rounded bg-primary/60"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[v," – ",b," of ",i," results — Page ",r," of ",o]})]}),a.map((s,t)=>e.jsxs("div",{className:A("space-y-1 border-l-2 pl-4 transition-colors",m===t?"border-primary bg-accent/30":"border-transparent hover:border-primary/40"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[t+1,"."]}),e.jsx("a",{href:`${s.package_path_url}`,className:"text-xl font-medium text-primary hover:underline",children:s.package_name})]}),s.match_context&&e.jsx("div",{className:"mt-2 flex gap-3",children:e.jsx("div",{className:`
                                                text-sm
                                                leading-relaxed
                                                text-foreground
                                                [&_em]:not-italic
                                                [&_em]:font-semibold
                                                [&_em]:text-primary
                                            `,dangerouslySetInnerHTML:{__html:s.match_context}})}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Collection Code: ",s.coll_display_code]}),e.jsxs("span",{children:["Partner Name: ",s.partner_name," (",s.partner_code,")"]})]})]},s.package_id)),o>1&&e.jsxs("div",{className:"flex items-center gap-4 pt-4 text-sm text-muted-foreground",children:[e.jsxs("button",{disabled:r<=1,onClick:()=>p(n,r-1),className:"flex items-center gap-1 disabled:opacity-40",children:[e.jsx(T,{className:"h-4 w-4"}),"Previous"]}),e.jsxs("span",{children:["Page ",e.jsx("strong",{children:r})," of ",o]}),e.jsxs("button",{disabled:r>=o,onClick:()=>p(n,r+1),className:"flex items-center gap-1 disabled:opacity-40",children:["Next",e.jsx(E,{className:"h-4 w-4"})]})]})]}),!h&&n&&a.length===0&&!d&&e.jsxs("div",{className:"text-muted-foreground",children:["No results found for “",n,"”"]})]})]})}export{V as default};
